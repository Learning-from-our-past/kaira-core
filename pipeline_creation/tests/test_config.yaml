book_series: Siirtokarjalaisten tie
pipeline:
  - !Extractor {
      module: "book_extractors.karelians.extraction.extractors.name_extractor",
      class_name: "NameExtractor",
      options: {
        output_path: "primaryPerson"
      }
    }

  - !Extractor {
      module: "book_extractors.karelians.extraction.extractors.image_extractor",
      class_name: "ImageExtractor"
    }

  - !Extractor &FormerSurname {
      module: "book_extractors.karelians.extraction.extractors.original_family_extractor",
      class_name: "FormerSurnameExtractor",
      options: {
        output_path: "primaryPerson"
      }
    }

  - !Extractor {
      module: "book_extractors.karelians.extraction.extractors.profession_extractor",
      class_name: "ProfessionExtractor",
      cursor_location_depend_on: *FormerSurname,
      options: {
        output_path: "primaryPerson"
      }
    }

  - !Extractor &Birthday {
      module: "book_extractors.karelians.extraction.extractors.birthday_extractor",
      class_name: "BirthdayExtractor",
      cursor_location_depend_on: *FormerSurname,
      options: {
        output_path: "primaryPerson"
      }
    }

  - !Extractor {
      module: "book_extractors.karelians.extraction.extractors.location_extractor",
      class_name: "BirthdayLocationExtractor",
      cursor_location_depend_on: *Birthday,
      options: {
        output_path: "primaryPerson"
      }
    }

  - !Extractor {
      module: "book_extractors.common.extractors.previous_marriages_flag_extractor",
      class_name: "PreviousMarriagesFlagExtractor",
      options: {
        output_path: "primaryPerson"
      }
    }

  - !Extractor {
      module: "book_extractors.karelians.extraction.extractors.war_data_extractor",
      class_name: "WarDataExtractor",
      options: {
        output_path: "primaryPerson",
        in_spouse_extractor: false
      }
    }

  - !Extractor {
      module: "book_extractors.karelians.extraction.extractors.migration_route_extractors",
      class_name: "MigrationRouteExtractor",
      options: {
        output_path: "primaryPerson"
      }
    }

  - !Extractor {
      module: "book_extractors.karelians.extraction.extractors.omakotitalo_extractor",
      class_name: "OmakotitaloExtractor",
      options: {
        output_path: "primaryPerson"
      }
    }

  - !Extractor {
      module: "book_extractors.karelians.extraction.extractors.spouse_extractor",
      class_name: "SpouseExtractor"
    }

  - !Extractor {
      module: "book_extractors.karelians.extraction.extractors.child_extractor",
      class_name: "ChildExtractor"
    }

  - !Extractor {
      module: "book_extractors.karelians.extraction.extractors.farm_extractor",
      class_name: "FarmDetailsExtractor"
    }

  - !Extractor {
      module: "book_extractors.common.extractors.kaira_id_extractor",
      class_name: "KairaIdExtractor",
      options: {
        output_path: "primaryPerson"
      }
    }
